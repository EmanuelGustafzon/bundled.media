/* esm.sh - esbuild bundle(rxjs@7.5.7/internal/operators/windowTime) deno production */
import{Subject as b}from"/v115/rxjs@7.5.7/deno/internal/Subject.js";import{asyncScheduler as h}from"/v115/rxjs@7.5.7/deno/internal/scheduler/async.js";import{Subscription as O}from"/v115/rxjs@7.5.7/deno/internal/Subscription.js";import{operate as W}from"/v115/rxjs@7.5.7/deno/internal/util/lift.js";import{createOperatorSubscriber as y}from"/v115/rxjs@7.5.7/deno/internal/operators/OperatorSubscriber.js";import{arrRemove as C}from"/v115/rxjs@7.5.7/deno/internal/util/arrRemove.js";import{popScheduler as I}from"/v115/rxjs@7.5.7/deno/internal/util/args.js";import{executeSchedule as f}from"/v115/rxjs@7.5.7/deno/internal/util/executeSchedule.js";function B(S,...i){var l,s;let u=(l=I(i))!==null&&l!==void 0?l:h,c=(s=i[0])!==null&&s!==void 0?s:null,v=i[1]||1/0;return W((x,n)=>{let t=[],a=!1,p=o=>{let{window:e,subs:r}=o;e.complete(),r.unsubscribe(),C(t,o),a&&m()},m=()=>{if(t){let o=new O;n.add(o);let e=new b,r={window:e,subs:o,seen:0};t.push(r),n.next(e.asObservable()),f(o,u,()=>p(r),S)}};c!==null&&c>=0?f(n,u,m,c,!0):a=!0,m();let w=o=>t.slice().forEach(o),d=o=>{w(({window:e})=>o(e)),o(n),n.unsubscribe()};return x.subscribe(y(n,o=>{w(e=>{e.window.next(o),v<=++e.seen&&p(e)})},()=>d(o=>o.complete()),o=>d(e=>e.error(o)))),()=>{t=null}})}export{B as windowTime};
//# sourceMappingURL=windowTime.js.map