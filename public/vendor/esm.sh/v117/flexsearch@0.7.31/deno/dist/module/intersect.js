/* esm.sh - esbuild bundle(flexsearch@0.7.31/dist/module/intersect) deno production */
import{create_object as x}from"/v117/flexsearch@0.7.31/deno/dist/module/common.js";function y(s,u,i,t){let c=s.length,e,g,n=[],r=0;t&&(t=[]);for(let f=c-1;0<=f;f--){let a=s[f],p=a.length,l=x(),h=!e;for(let j=0;j<p;j++){let _=a[j],b=_.length;if(b)for(let m,o,k=0;k<b;k++)if(o=_[k],e){if(e[o]){if(!f){if(i)i--;else if(n[r++]=o,r===u)return n}(f||t)&&(l[o]=1),h=!0}if(t&&(m=(g[o]||0)+1,g[o]=m,m<c)){let q=t[m-2]||(t[m-2]=[]);q[q.length]=o}}else l[o]=1}if(t)e||(g=l);else if(!h)return[];e=l}if(t)for(let f,a,p=t.length-1;0<=p;p--){f=t[p],a=f.length;for(let l,h=0;h<a;h++)if(l=f[h],!e[l]){if(i)i--;else if(n[r++]=l,r===u)return n;e[l]=1}}return n}function z(s,u){let i=x(),t=x(),c=[];for(let e=0;e<s.length;e++)i[s[e]]=1;for(let e,g=0;g<u.length;g++){e=u[g];for(let n,r=0;r<e.length;r++)n=e[r],i[n]&&!t[n]&&(t[n]=1,c[c.length]=n)}return c}export{y as intersect,z as intersect_union};
//# sourceMappingURL=intersect.js.map