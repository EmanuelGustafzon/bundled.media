/* esm.sh - esbuild bundle(flexsearch@0.7.31/dist/module/serialize) deno production */
import"/v117/flexsearch@0.7.31/deno/dist/module/type.js";import{create_object as a,is_string as h}from"/v117/flexsearch@0.7.31/deno/dist/module/common.js";function f(e,t,n,s,i,r,o){setTimeout(function(){let c=e(n?n+"."+s:s,JSON.stringify(o));c&&c.then?c.then(function(){t.export(e,t,n,i,r+1)}):t.export(e,t,n,i,r+1)})}function m(e,t,n,s,i){let r,o;switch(i||(i=0)){case 0:if(r="reg",this.fastupdate)for(let c in o=a(),this.register)o[c]=1;else o=this.register;break;case 1:r="cfg",o={doc:0,opt:this.optimize?1:0};break;case 2:r="map",o=this.map;break;case 3:r="ctx",o=this.ctx;break;default:return}return f(e,t||this,n,r,s,i,o),!0}function l(e,t){t&&(h(t)&&(t=JSON.parse(t)),e==="cfg"?this.optimize=!!t.opt:e==="reg"?(this.fastupdate=!1,this.register=t):e==="map"?this.map=t:e==="ctx"&&(this.ctx=t))}function d(e,t,n,s,i){if(i||(i=0),s||(s=0),s<this.field.length){let r=this.field[s],o=this.index[r];t=this,setTimeout(function(){o.export(e,t,i?r:"",s,i++)||(s++,i=1,t.export(e,t,r,s,i))})}else{let r,o;switch(i){case 1:r="tag",o=this.tagindex;break;case 2:r="store",o=this.store;break;default:return}f(e,this,n,r,s,i,o)}}function k(e,t){if(t)switch(h(t)&&(t=JSON.parse(t)),e){case"tag":this.tagindex=t;break;case"reg":this.fastupdate=!1,this.register=t;for(let s,i=0;i<this.field.length;i++)s=this.index[this.field[i]],s.register=t,s.fastupdate=!1;break;case"store":this.store=t;break;default:e=e.split(".");let n=e[0];e=e[1],n&&e&&this.index[n].import(e,t)}}export{d as exportDocument,m as exportIndex,k as importDocument,l as importIndex};
//# sourceMappingURL=serialize.js.map