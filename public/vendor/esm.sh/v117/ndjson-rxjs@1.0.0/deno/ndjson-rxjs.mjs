/* esm.sh - esbuild bundle(ndjson-rxjs@1.0.0) deno production */
import * as _1$ from "/v117/rxjs@5.5.12/deno/rxjs.mjs";const __1$ = _1$.default??_1$;var b=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),M=(e,t)=>{for(var n in t)l(e,n,{get:t[n],enumerable:!0})},f=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of v(t))!O.call(e,u)&&u!==n&&l(e,u,{get:()=>t[u],enumerable:!(r=h(t,u))||r.enumerable});return e},s=(e,t,n)=>(f(e,t,"default"),n&&f(n,t,"default")),d=(e,t,n)=>(n=e!=null?b(S(e)):{},f(t||!e||!e.__esModule?l(n,"default",{value:e,enumerable:!0}):n,e));var c=T(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.collate=m;o.extractStream=g;o.stream=w;var L=__1$,p=q(L);function q(e){return e&&e.__esModule?e:{default:e}}function m(e){return e.scan(function(t,n){var r=n.lastIndexOf(`
`);return r>=0?{finishedLine:t.buffer+n.substring(0,r+1),buffer:n.substring(r+1)}:{buffer:n}},{buffer:""}).filter(function(t){return t.finishedLine}).map(function(t){return t.finishedLine.split(`
`).filter(function(n){return n.length>0})})}function g(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return p.default.Observable.create(function(n){var r=0;function u(){e.readyState>=3&&e.responseText.length>r&&(n.next(e.responseText.substring(r)),r=e.responseText.length),e.readyState==4&&(t.endWithNewline&&e.responseText[e.responseText.length-1]!=`
`&&n.next(`
`),n.complete())}e.onreadystatechange=u,e.onprogress=u,e.onerror=function(i){n.error(i)}})}function w(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.xhrFactory?t.xhrFactory(e,t):new XMLHttpRequest,r=g(n,{endWithNewline:!0}),u=m(r).concatMap(function(i){return p.default.Observable.from(i)}).map(JSON.parse);return t.beforeOpen&&t.beforeOpen(n),n.open(t.method?t.method:"GET",e),n.send(t.postData?t.postData:null),u}});var a={};M(a,{__esModule:()=>D,collate:()=>N,default:()=>W,extractStream:()=>j,stream:()=>F});var x=d(c());s(a,d(c()));var D=!0,{collate:N,extractStream:j,stream:F}=x,{default:_,...R}=x,W=_!==void 0?_:R;export{D as __esModule,N as collate,W as default,j as extractStream,F as stream};
//# sourceMappingURL=ndjson-rxjs.mjs.map